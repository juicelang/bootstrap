export const OPERATOR_REGEX = /[:=,\.@#!?&|+\-*/%<>\^]/;

export const operators = [
  ":=",
  "=",
  ":",
  ",",
  ".",
  "@",
  "#",
  "!",
  "?",
  "&",
  "|",
  "&&",
  "||",
  "->",
  "+",
  "-",
  "*",
  "/",
  "%",
  "**",
  "++",
  "--",
  ">=",
  "<=",
  "==",
  "!=",
  ">",
  "<",
  "^",
] as const;

export const precedence: Record<(typeof operators)[number], number> = {
  ":=": 0,
  "=": 0,
  ":": 0,
  ",": 0,
  ".": 0,
  "@": 0,
  "#": 0,
  "!": 0,
  "?": 0,
  "&": 0,
  "|": 0,
  "&&": 0,
  "||": 0,
  "->": 0,
  "+": 0,
  "-": 0,
  "*": 0,
  "/": 0,
  "%": 0,
  "**": 0,
  "++": 0,
  "--": 0,
  ">=": 0,
  "<=": 0,
  "==": 0,
  "!=": 0,
  ">": 0,
  "<": 0,
  "^": 0,
};

export function is_operator(text: string): text is (typeof operators)[number] {
  return operators.includes(text as any);
}
